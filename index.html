<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chalé Restaurante - Sistema de Pedidos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #8B0000; /* Vermelho escuro */
            --primary-light: #FFF5F5;
            --primary-dark: #5A0000;
            --secondary-color: #D4AF37; /* Dourado */
            --secondary-light: #FFF9E6;
            --danger-color: #C41E3A;
            --danger-light: #FFEBEE;
            --gray-light: #f8f8f8;
            --gray-medium: #e8e8e8;
            --gray-dark: #a0a0a0;
            --text-color: #333;
            --text-light: #666;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
            --radius: 8px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #fefefe;
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 15px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            font-size: 28px;
            color: var(--secondary-color);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 15px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 6px;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        nav ul li a:hover, nav ul li a.active {
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        .section {
            display: none;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 25px;
            margin-top: 20px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section.active {
            display: block;
        }
        
        h2 {
            color: var(--primary-dark);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray-medium);
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* INDICADOR DE ETAPAS COMPACTO - NOVO LAYOUT */
        .step-indicator-container {
            display: flex;
            flex-direction: column;
            margin-bottom: 25px;
        }
        
        .step-indicator {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            background-color: white;
            border-radius: var(--radius);
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            position: relative;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            padding: 8px 12px;
            border-radius: 20px;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .step.active {
            background-color: var(--primary-light);
            color: var(--primary-color);
        }
        
        .step.completed {
            color: var(--primary-dark);
        }
        
        .step-number {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background-color: var(--gray-light);
            color: var(--text-light);
            font-size: 16px;
            border: 2px solid var(--gray-medium);
            transition: var(--transition);
        }
        
        .step.active .step-number {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .step.completed .step-number {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        .step-title {
            font-size: 14px;
            font-weight: 500;
            text-align: center;
        }
        
        .step-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--gray-medium);
            z-index: 1;
        }
        
        .current-step-title {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-dark);
            padding: 12px;
            background-color: var(--primary-light);
            border-radius: var(--radius);
            border-left: 4px solid var(--secondary-color);
        }
        
        .step-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .step-content.active {
            display: block;
        }
        
        .step-header {
            margin-bottom: 20px;
        }
        
        .step-description {
            color: var(--text-light);
            font-size: 14px;
        }
        
        .size-quantity-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .size-quantity {
            padding: 20px;
            border: 2px solid var(--gray-medium);
            border-radius: var(--radius);
            background-color: white;
            transition: var(--transition);
            text-align: center;
        }
        
        .size-quantity:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .size-quantity h3 {
            margin-bottom: 10px;
            color: var(--primary-dark);
            font-size: 18px;
        }
        
        .size-price {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            border: 2px solid var(--primary-color);
            background-color: white;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: var(--primary-color);
        }
        
        .quantity-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .quantity-input {
            width: 60px;
            height: 40px;
            text-align: center;
            border: 2px solid var(--gray-medium);
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
        }
        
        .order-summary {
            background-color: var(--gray-light);
            border-radius: var(--radius);
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid var(--primary-color);
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray-medium);
        }
        
        .order-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            font-size: 18px;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid var(--gray-medium);
            color: var(--primary-dark);
        }
        
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-secondary {
            background-color: white;
            color: var(--text-color);
            border: 2px solid var(--gray-medium);
        }
        
        .btn-secondary:hover {
            background-color: var(--gray-light);
        }
        
        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #a0182f;
        }
        
        .btn-warning {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #b8941f;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--text-color);
            font-size: 14px;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--gray-medium);
            border-radius: 6px;
            font-size: 14px;
            transition: var(--transition);
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(139, 0, 0, 0.2);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .step-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid var(--gray-medium);
        }
        
        .step-actions {
            display: flex;
            gap: 10px;
        }
        
        .icon {
            font-size: 16px;
        }
        
        .hidden {
            display: none;
        }
        
        .login-container {
            max-width: 400px;
            margin: 50px auto;
            padding: 30px;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }
        
        .login-title {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary-dark);
        }
        
        .login-error {
            color: var(--danger-color);
            font-size: 14px;
            margin-top: 10px;
            text-align: center;
        }
        
        /* Layout lado a lado para checkout */
        .checkout-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .checkout-form {
            padding-right: 20px;
            border-right: 1px solid var(--gray-medium);
        }
        
        .checkout-summary {
            padding-left: 20px;
        }
        
        .delivery-option, .payment-option {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: var(--radius);
            background-color: var(--gray-light);
        }
        
        .option-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .option-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            border: 2px solid var(--gray-medium);
            border-radius: 8px;
            background-color: white;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .option-item:hover {
            border-color: var(--primary-color);
        }
        
        .option-item.selected {
            border-color: var(--primary-color);
            background-color: var(--primary-light);
        }
        
        .option-item input[type="radio"] {
            display: none;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            nav ul {
                margin-top: 10px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            nav ul li {
                margin: 5px;
            }
            
            .step-indicator {
                flex-direction: column;
                gap: 10px;
                padding: 15px;
            }
            
            .step-line {
                display: none;
            }
            
            .step {
                width: 100%;
                justify-content: center;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .checkout-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .checkout-form {
                padding-right: 0;
                border-right: none;
                border-bottom: 1px solid var(--gray-medium);
                padding-bottom: 20px;
            }
            
            .checkout-summary {
                padding-left: 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-utensils logo-icon"></i>
                <span>Chalé Restaurante</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-section="order-section">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Fazer Pedido</span>
                    </a></li>
                    <li><a href="#" class="nav-link" data-section="admin-login-section">
                        <i class="fas fa-cog"></i>
                        <span>Painel Admin</span>
                    </a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <div class="container">
        <!-- Seção de Pedidos -->
        <section id="order-section" class="section active">
            <h2><i class="fas fa-utensils"></i>Monte Sua Marmita</h2>
            
            <!-- INDICADOR DE ETAPAS COMPACTO - NOVO LAYOUT -->
            <div class="step-indicator-container">
                <div class="step-indicator">
                    <div class="step-line"></div>
                    <div class="step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-title">Quantidade</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-title">Personalizar</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-title">Conferência</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-title">Checkout</div>
                    </div>
                </div>
                <div class="current-step-title" id="current-step-title">Selecione a quantidade de marmitas</div>
            </div>
            
            <!-- Passo 1: Seleção de Quantidade -->
            <div id="step-1" class="step-content active">
                <div class="step-header">
                    <p class="step-description">Escolha o tamanho e quantidade de marmitas que deseja pedir.</p>
                </div>
                
                <div class="size-quantity-selector">
                    <div class="size-quantity">
                        <h3>Marmita Pequena (P)</h3>
                        <p class="size-price">R$ 15,00 cada</p>
                        <p>Ideal para um lanche ou refeição leve</p>
                        <div class="quantity-controls">
                            <button class="quantity-btn" id="decrease-p">-</button>
                            <input type="number" class="quantity-input" id="quantity-p" value="0" min="0">
                            <button class="quantity-btn" id="increase-p">+</button>
                        </div>
                    </div>
                    
                    <div class="size-quantity">
                        <h3>Marmita Grande (G)</h3>
                        <p class="size-price">R$ 20,00 cada</p>
                        <p>Porção generosa para uma refeição completa</p>
                        <div class="quantity-controls">
                            <button class="quantity-btn" id="decrease-g">-</button>
                            <input type="number" class="quantity-input" id="quantity-g" value="0" min="0">
                            <button class="quantity-btn" id="increase-g">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="step-navigation">
                    <div></div>
                    <div class="step-actions">
                        <button class="btn btn-primary" id="next-to-step-2">
                            <span>Próximo</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Passo 2: Personalização das Marmitas -->
            <div id="step-2" class="step-content">
                <div class="step-header">
                    <p class="step-description">Selecione os ingredientes para cada uma das suas marmitas.</p>
                </div>
                
                <div id="meals-container">
                    <!-- As marmitas serão adicionadas dinamicamente aqui -->
                </div>
                
                <div class="step-navigation">
                    <div class="step-actions">
                        <button class="btn btn-secondary" id="back-to-step-1">
                            <i class="fas fa-arrow-left"></i>
                            <span>Voltar</span>
                        </button>
                    </div>
                    <div class="step-actions">
                        <button class="btn btn-primary" id="next-to-step-3">
                            <span>Próximo</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Passo 3: Conferência do Pedido -->
            <div id="step-3" class="step-content">
                <div class="step-header">
                    <p class="step-description">Revise os detalhes do seu pedido antes de finalizar.</p>
                </div>
                
                <div class="order-summary">
                    <div id="order-items">
                        <!-- Itens do pedido serão adicionados aqui -->
                    </div>
                    <div class="order-total">
                        <span>Total:</span>
                        <span id="total-price">R$ 0,00</span>
                    </div>
                </div>
                
                <div class="step-navigation">
                    <div class="step-actions">
                        <button class="btn btn-secondary" id="back-to-step-2">
                            <i class="fas fa-arrow-left"></i>
                            <span>Voltar</span>
                        </button>
                    </div>
                    <div class="step-actions">
                        <button class="btn btn-primary" id="next-to-step-4">
                            <span>Continuar para Checkout</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Passo 4: Checkout -->
            <div id="step-4" class="step-content">
                <div class="step-header">
                    <p class="step-description">Preencha suas informações para finalizar o pedido.</p>
                </div>
                
                <div class="checkout-container">
                    <div class="checkout-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customer-name">Nome *</label>
                                <input type="text" id="customer-name" class="form-control" placeholder="Seu nome completo" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="customer-phone">Telefone</label>
                                <input type="tel" id="customer-phone" class="form-control" placeholder="(31) 99999-9999">
                            </div>
                        </div>
                        
                        <div class="delivery-option">
                            <h4><i class="fas fa-truck"></i> Tipo de Entrega</h4>
                            <div class="option-group">
                                <div class="option-item" data-value="retirada">
                                    <input type="radio" id="delivery-pickup" name="delivery-type" value="retirada" checked>
                                    <i class="fas fa-store icon"></i>
                                    <div>
                                        <div class="option-name">Retirada no Local</div>
                                        <div class="option-desc">Busque no estabelecimento</div>
                                    </div>
                                </div>
                                <div class="option-item" data-value="entrega">
                                    <input type="radio" id="delivery-delivery" name="delivery-type" value="entrega">
                                    <i class="fas fa-motorcycle icon"></i>
                                    <div>
                                        <div class="option-name">Entrega</div>
                                        <div class="option-desc">Receba em casa</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="delivery-address-section" class="hidden">
                            <div class="form-group">
                                <label for="delivery-address">Endereço de Entrega *</label>
                                <input type="text" id="delivery-address" class="form-control" placeholder="Rua, número, bairro">
                            </div>
                            
                            <div class="form-group">
                                <label for="delivery-reference">Ponto de Referência (opcional)</label>
                                <input type="text" id="delivery-reference" class="form-control" placeholder="Próximo a...">
                            </div>
                        </div>
                        
                        <div class="payment-option">
                            <h4><i class="fas fa-credit-card"></i> Forma de Pagamento</h4>
                            <div class="option-group">
                                <div class="option-item" data-value="cartao">
                                    <input type="radio" id="payment-card" name="payment-type" value="cartao" checked>
                                    <i class="fas fa-credit-card icon"></i>
                                    <div>
                                        <div class="option-name">Cartão</div>
                                        <div class="option-desc">Débito ou Crédito</div>
                                    </div>
                                </div>
                                <div class="option-item" data-value="dinheiro">
                                    <input type="radio" id="payment-money" name="payment-type" value="dinheiro">
                                    <i class="fas fa-money-bill-wave icon"></i>
                                    <div>
                                        <div class="option-name">Dinheiro</div>
                                        <div class="option-desc">Pagamento na entrega</div>
                                    </div>
                                </div>
                                <div class="option-item" data-value="pix">
                                    <input type="radio" id="payment-pix" name="payment-type" value="pix">
                                    <i class="fas fa-qrcode icon"></i>
                                    <div>
                                        <div class="option-name">PIX</div>
                                        <div class="option-desc">Pagamento instantâneo</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="change-section" class="hidden">
                            <div class="form-group">
                                <label for="need-change">Precisa de troco?</label>
                                <select id="need-change" class="form-control">
                                    <option value="no">Não</option>
                                    <option value="yes">Sim</option>
                                </select>
                            </div>
                            
                            <div id="change-value-section" class="hidden">
                                <div class="form-group">
                                    <label for="change-value">Valor para troco</label>
                                    <input type="number" id="change-value" class="form-control" placeholder="Valor em reais" step="0.01" min="0">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="order-notes">Observações (opcional)</label>
                            <textarea id="order-notes" class="form-control" rows="3" placeholder="Alguma observação sobre o pedido..."></textarea>
                        </div>
                    </div>
                    
                    <div class="checkout-summary">
                        <h4><i class="fas fa-receipt"></i> Resumo do Pedido</h4>
                        <div class="order-summary">
                            <div id="checkout-order-items">
                                <!-- Itens do pedido serão adicionados aqui -->
                            </div>
                            <div class="order-total">
                                <span>Total:</span>
                                <span id="checkout-total-price">R$ 0,00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="step-navigation">
                    <div class="step-actions">
                        <button class="btn btn-secondary" id="back-to-step-3">
                            <i class="fas fa-arrow-left"></i>
                            <span>Voltar</span>
                        </button>
                    </div>
                    <div class="step-actions">
                        <button class="btn btn-primary" id="finalize-order">
                            <i class="fas fa-check"></i>
                            <span>Finalizar Pedido</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Seção de Login Administrativo -->
        <section id="admin-login-section" class="section">
            <div class="login-container">
                <h2 class="login-title"><i class="fas fa-lock"></i> Acesso Administrativo</h2>
                <div class="form-group">
                    <label for="admin-password">Senha</label>
                    <input type="password" id="admin-password" class="form-control" placeholder="Digite a senha">
                </div>
                <div id="login-error" class="login-error hidden">Senha incorreta. Tente novamente.</div>
                <button class="btn btn-primary" id="login-btn" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Entrar</span>
                </button>
            </div>
        </section>
        
        <!-- Seção Administrativa (após login) -->
        <section id="admin-section" class="section hidden">
            <h2><i class="fas fa-cog"></i>Painel Administrativo</h2>
            
            <div id="admin-alert" class="alert" style="display: none;"></div>
            
            <div class="form-group">
                <h3><i class="fas fa-plus-circle"></i> Adicionar Nova Opção</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="category-select">Categoria:</label>
                        <select id="category-select" class="form-control">
                            <option value="rice">Arroz</option>
                            <option value="beans">Feijão</option>
                            <option value="side-dishes">Guarnições</option>
                            <option value="meat">Carnes</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="option-name">Nome da Opção:</label>
                        <input type="text" id="option-name" class="form-control" placeholder="Ex: Arroz Branco">
                    </div>
                </div>
                
                <button class="btn btn-primary" id="add-option">
                    <i class="fas fa-plus"></i>
                    <span>Adicionar Opção</span>
                </button>
            </div>
            
            <div class="form-group">
                <h3><i class="fas fa-list"></i> Opções Cadastradas</h3>
                
                <div id="admin-options-tables">
                    <!-- Tabelas de opções serão carregadas aqui -->
                </div>
            </div>
            
            <div class="step-navigation">
                <div class="step-actions">
                    <button class="btn btn-secondary" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Sair</span>
                    </button>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Dados iniciais
        let menuOptions = {
            rice: [
                { id: 1, name: "Arroz Branco", active: true },
                { id: 2, name: "Arroz Integral", active: true }
            ],
            beans: [
                { id: 1, name: "Feijão Preto", active: true },
                { id: 2, name: "Feijão Carioca", active: true }
            ],
            "side-dishes": [
                { id: 1, name: "Farofa", active: true },
                { id: 2, name: "Salada de Alface", active: true },
                { id: 3, name: "Vinagrete", active: true },
                { id: 4, name: "Batata Frita", active: true }
            ],
            meat: [
                { id: 1, name: "Frango Grelhado", active: true },
                { id: 2, name: "Carne Bovína", active: true },
                { id: 3, name: "Peixe Frito", active: true }
            ]
        };

        // Estado atual do pedido
        let currentOrder = {
            quantityP: 0,
            quantityG: 0,
            meals: [], // Array para armazenar cada marmita individualmente
            customerInfo: {}
        };

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            // Configurar navegação
            setupNavigation();
            
            // Configurar eventos
            setupEventListeners();
            
            // Configurar eventos do checkout
            setupCheckoutEvents();
            
            // Configurar eventos administrativos
            setupAdminEvents();
        });

        // Configurar navegação entre seções
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remover classe active de todos os links
                    navLinks.forEach(l => l.classList.remove('active'));
                    
                    // Adicionar classe active ao link clicado
                    this.classList.add('active');
                    
                    // Esconder todas as seções
                    document.querySelectorAll('.section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Mostrar a seção correspondente
                    const sectionId = this.getAttribute('data-section');
                    document.getElementById(sectionId).classList.add('active');
                });
            });
        }

        // Configurar eventos
        function setupEventListeners() {
            // Controles de quantidade para marmitas P
            document.getElementById('increase-p').addEventListener('click', function() {
                const quantityInput = document.getElementById('quantity-p');
                quantityInput.value = parseInt(quantityInput.value) + 1;
                currentOrder.quantityP = parseInt(quantityInput.value);
            });
            
            document.getElementById('decrease-p').addEventListener('click', function() {
                const quantityInput = document.getElementById('quantity-p');
                if (parseInt(quantityInput.value) > 0) {
                    quantityInput.value = parseInt(quantityInput.value) - 1;
                    currentOrder.quantityP = parseInt(quantityInput.value);
                }
            });
            
            document.getElementById('quantity-p').addEventListener('change', function() {
                currentOrder.quantityP = parseInt(this.value) || 0;
                if (currentOrder.quantityP < 0) {
                    currentOrder.quantityP = 0;
                    this.value = 0;
                }
            });
            
            // Controles de quantidade para marmitas G
            document.getElementById('increase-g').addEventListener('click', function() {
                const quantityInput = document.getElementById('quantity-g');
                quantityInput.value = parseInt(quantityInput.value) + 1;
                currentOrder.quantityG = parseInt(quantityInput.value);
            });
            
            document.getElementById('decrease-g').addEventListener('click', function() {
                const quantityInput = document.getElementById('quantity-g');
                if (parseInt(quantityInput.value) > 0) {
                    quantityInput.value = parseInt(quantityInput.value) - 1;
                    currentOrder.quantityG = parseInt(quantityInput.value);
                }
            });
            
            document.getElementById('quantity-g').addEventListener('change', function() {
                currentOrder.quantityG = parseInt(this.value) || 0;
                if (currentOrder.quantityG < 0) {
                    currentOrder.quantityG = 0;
                    this.value = 0;
                }
            });
            
            // Navegação entre passos
            document.getElementById('next-to-step-2').addEventListener('click', function() {
                if (currentOrder.quantityP === 0 && currentOrder.quantityG === 0) {
                    alert('Por favor, selecione pelo menos uma marmita.');
                    return;
                }
                
                // Criar array de marmitas
                createMealsArray();
                
                // Carregar interface de personalização
                loadMealsCustomization();
                
                goToStep(2);
            });
            
            document.getElementById('back-to-step-1').addEventListener('click', function() {
                goToStep(1);
            });
            
            document.getElementById('next-to-step-3').addEventListener('click', function() {
                // Validar se todas as marmitas estão completas
                if (!validateAllMeals()) {
                    alert('Por favor, complete a personalização de todas as marmitas.');
                    return;
                }
                
                updateOrderSummary();
                goToStep(3);
            });
            
            document.getElementById('back-to-step-2').addEventListener('click', function() {
                goToStep(2);
            });
            
            document.getElementById('next-to-step-4').addEventListener('click', function() {
                updateCheckoutSummary();
                goToStep(4);
            });
            
            document.getElementById('back-to-step-3').addEventListener('click', function() {
                goToStep(3);
            });
        }

        // Configurar eventos administrativos
        function setupAdminEvents() {
            // Login administrativo
            document.getElementById('login-btn').addEventListener('click', function() {
                const password = document.getElementById('admin-password').value;
                const errorDiv = document.getElementById('login-error');
                
                if (password === 'qyq524gwg') {
                    // Login bem-sucedido
                    document.getElementById('admin-login-section').classList.remove('active');
                    document.getElementById('admin-section').classList.remove('hidden');
                    document.getElementById('admin-section').classList.add('active');
                    
                    // Carregar opções do menu
                    loadAdminOptions();
                } else {
                    // Login falhou
                    errorDiv.classList.remove('hidden');
                }
            });
            
            // Logout
            document.getElementById('logout-btn').addEventListener('click', function() {
                document.getElementById('admin-section').classList.remove('active');
                document.getElementById('admin-section').classList.add('hidden');
                document.getElementById('admin-login-section').classList.add('active');
                document.getElementById('admin-password').value = '';
                document.getElementById('login-error').classList.add('hidden');
            });
            
            // Adicionar nova opção
            document.getElementById('add-option').addEventListener('click', function() {
                addNewOption();
            });
        }

        // Configurar eventos do checkout
        function setupCheckoutEvents() {
            // Alternar entre retirada e entrega
            document.querySelectorAll('input[name="delivery-type"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const addressSection = document.getElementById('delivery-address-section');
                    if (this.value === 'entrega') {
                        addressSection.classList.remove('hidden');
                    } else {
                        addressSection.classList.add('hidden');
                    }
                });
            });
            
            // Alternar entre formas de pagamento
            document.querySelectorAll('input[name="payment-type"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const changeSection = document.getElementById('change-section');
                    if (this.value === 'dinheiro') {
                        changeSection.classList.remove('hidden');
                    } else {
                        changeSection.classList.add('hidden');
                    }
                });
            });
            
            // Alternar necessidade de troco
            document.getElementById('need-change').addEventListener('change', function() {
                const changeValueSection = document.getElementById('change-value-section');
                if (this.value === 'yes') {
                    changeValueSection.classList.remove('hidden');
                } else {
                    changeValueSection.classList.add('hidden');
                }
            });
            
            // Eventos para opções de entrega e pagamento
            document.querySelectorAll('.option-item').forEach(item => {
                item.addEventListener('click', function() {
                    const input = this.querySelector('input');
                    input.checked = true;
                    
                    // Atualizar visual
                    document.querySelectorAll('.option-item').forEach(i => {
                        i.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    
                    // Disparar evento change no input
                    input.dispatchEvent(new Event('change'));
                });
            });
            
            // Finalizar pedido
            document.getElementById('finalize-order').addEventListener('click', function() {
                if (!validateCheckout()) {
                    return;
                }
                
                // Coletar informações do cliente
                collectCustomerInfo();
                
                // Gerar mensagem para WhatsApp
                const whatsappMessage = generateWhatsAppMessage();
                
                // Redirecionar para WhatsApp
                const phoneNumber = "5531992382944";
                const encodedMessage = encodeURIComponent(whatsappMessage);
                window.open(`https://wa.me/${phoneNumber}?text=${encodedMessage}`, '_blank');
                
                // Resetar pedido
                resetOrder();
                goToStep(1);
            });
        }

        // Validar informações do checkout
        function validateCheckout() {
            const customerName = document.getElementById('customer-name').value.trim();
            if (!customerName) {
                alert('Por favor, informe seu nome.');
                return false;
            }
            
            const deliveryType = document.querySelector('input[name="delivery-type"]:checked').value;
            if (deliveryType === 'entrega') {
                const deliveryAddress = document.getElementById('delivery-address').value.trim();
                if (!deliveryAddress) {
                    alert('Por favor, informe o endereço de entrega.');
                    return false;
                }
            }
            
            const paymentType = document.querySelector('input[name="payment-type"]:checked').value;
            if (paymentType === 'dinheiro') {
                const needChange = document.getElementById('need-change').value;
                if (needChange === 'yes') {
                    const changeValue = document.getElementById('change-value').value;
                    if (!changeValue || parseFloat(changeValue) <= 0) {
                        alert('Por favor, informe o valor para troco.');
                        return false;
                    }
                }
            }
            
            return true;
        }

        // Coletar informações do cliente
        function collectCustomerInfo() {
            currentOrder.customerInfo = {
                name: document.getElementById('customer-name').value.trim(),
                phone: document.getElementById('customer-phone').value.trim(),
                deliveryType: document.querySelector('input[name="delivery-type"]:checked').value,
                address: document.getElementById('delivery-address').value.trim(),
                reference: document.getElementById('delivery-reference').value.trim(),
                paymentType: document.querySelector('input[name="payment-type"]:checked').value,
                needChange: document.getElementById('need-change').value,
                changeValue: document.getElementById('change-value').value,
                notes: document.getElementById('order-notes').value.trim()
            };
        }

        // Gerar mensagem para WhatsApp
        function generateWhatsAppMessage() {
            let message = `*PEDIDO DE MARMITA - Chalé Restaurante*\n\n`;
            
            // Informações do cliente
            message += `*Cliente:* ${currentOrder.customerInfo.name}\n`;
            if (currentOrder.customerInfo.phone) {
                message += `*Telefone:* ${currentOrder.customerInfo.phone}\n`;
            }
            
            // Tipo de entrega
            message += `*Tipo:* ${currentOrder.customerInfo.deliveryType === 'entrega' ? 'Entrega' : 'Retirada'}\n`;
            
            // Endereço se for entrega
            if (currentOrder.customerInfo.deliveryType === 'entrega') {
                message += `*Endereço:* ${currentOrder.customerInfo.address}\n`;
                if (currentOrder.customerInfo.reference) {
                    message += `*Referência:* ${currentOrder.customerInfo.reference}\n`;
                }
            }
            
            // Forma de pagamento
            message += `*Pagamento:* ${getPaymentTypeText(currentOrder.customerInfo.paymentType)}\n`;
            
            // Troco se for dinheiro
            if (currentOrder.customerInfo.paymentType === 'dinheiro' && currentOrder.customerInfo.needChange === 'yes') {
                message += `*Troco para:* R$ ${parseFloat(currentOrder.customerInfo.changeValue).toFixed(2)}\n`;
            }
            
            message += `\n*ITENS DO PEDIDO:*\n`;
            
            // Detalhes das marmitas
            currentOrder.meals.forEach((meal, index) => {
                message += `\n*Marmita ${meal.size} #${index + 1} - R$ ${meal.price.toFixed(2)}*\n`;
                message += `- Arroz: ${meal.rice.name}\n`;
                message += `- Feijão: ${meal.beans.name}\n`;
                message += `- Guarnições: ${meal.sideDishes.map(dish => dish.name).join(', ')}\n`;
                message += `- Carne: ${meal.meat.name}\n`;
            });
            
            // Total
            message += `\n*TOTAL: R$ ${calculateTotal().toFixed(2)}*\n`;
            
            // Observações
            if (currentOrder.customerInfo.notes) {
                message += `\n*Observações:* ${currentOrder.customerInfo.notes}\n`;
            }
            
            message += `\n*Aguarde confirmação*`;
            
            return message;
        }

        // Obter texto da forma de pagamento
        function getPaymentTypeText(paymentType) {
            switch(paymentType) {
                case 'cartao': return 'Cartão';
                case 'dinheiro': return 'Dinheiro';
                case 'pix': return 'PIX';
                default: return paymentType;
            }
        }

        // Criar array de marmitas baseado nas quantidades selecionadas
        function createMealsArray() {
            currentOrder.meals = [];
            
            // Adicionar marmitas P
            for (let i = 1; i <= currentOrder.quantityP; i++) {
                currentOrder.meals.push({
                    id: `P-${i}`,
                    size: 'P',
                    price: 15.00,
                    rice: null,
                    beans: null,
                    sideDishes: [],
                    meat: null
                });
            }
            
            // Adicionar marmitas G
            for (let i = 1; i <= currentOrder.quantityG; i++) {
                currentOrder.meals.push({
                    id: `G-${i}`,
                    size: 'G',
                    price: 20.00,
                    rice: null,
                    beans: null,
                    sideDishes: [],
                    meat: null
                });
            }
        }

        // Carregar interface de personalização das marmitas
        function loadMealsCustomization() {
            const container = document.getElementById('meals-container');
            container.innerHTML = '';
            
            currentOrder.meals.forEach((meal, index) => {
                const mealElement = createMealElement(meal, index);
                container.appendChild(mealElement);
            });
        }

        // Criar elemento de personalização para uma marmita
        function createMealElement(meal, index) {
            const mealContainer = document.createElement('div');
            mealContainer.className = 'form-group';
            mealContainer.style.border = '1px solid #ddd';
            mealContainer.style.padding = '15px';
            mealContainer.style.borderRadius = '6px';
            mealContainer.style.marginBottom = '15px';
            mealContainer.id = `meal-${index}`;
            
            // Cabeçalho da marmita
            const mealHeader = document.createElement('div');
            mealHeader.style.display = 'flex';
            mealHeader.style.justifyContent = 'space-between';
            mealHeader.style.alignItems = 'center';
            mealHeader.style.marginBottom = '15px';
            mealHeader.style.paddingBottom = '10px';
            mealHeader.style.borderBottom = '1px solid #eee';
            
            const mealTitle = document.createElement('div');
            mealTitle.style.fontWeight = 'bold';
            mealTitle.style.color = 'var(--primary-dark)';
            mealTitle.textContent = `Marmita ${meal.size} #${index + 1} - R$ ${meal.price.toFixed(2)}`;
            
            const mealRemove = document.createElement('button');
            mealRemove.className = 'btn btn-danger';
            mealRemove.innerHTML = '<i class="fas fa-trash"></i><span>Remover</span>';
            mealRemove.addEventListener('click', function() {
                removeMeal(index);
            });
            
            mealHeader.appendChild(mealTitle);
            mealHeader.appendChild(mealRemove);
            mealContainer.appendChild(mealHeader);
            
            // Categorias de opções
            const categories = [
                { key: 'rice', name: 'Arroz (Escolha 1 opção)', type: 'radio' },
                { key: 'beans', name: 'Feijão (Escolha 1 opção)', type: 'radio' },
                { key: 'sideDishes', name: 'Guarnições (Escolha 2 opções)', type: 'checkbox' },
                { key: 'meat', name: 'Carnes (Escolha 1 opção)', type: 'radio' }
            ];
            
            categories.forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.style.marginBottom = '15px';
                
                const categoryTitle = document.createElement('div');
                categoryTitle.style.fontWeight = 'bold';
                categoryTitle.style.marginBottom = '8px';
                categoryTitle.textContent = category.name;
                
                categoryDiv.appendChild(categoryTitle);
                
                // Opções para esta categoria
                const options = menuOptions[category.key === 'sideDishes' ? 'side-dishes' : category.key]
                    .filter(option => option.active);
                
                options.forEach(option => {
                    const optionDiv = document.createElement('div');
                    optionDiv.style.display = 'flex';
                    optionDiv.style.alignItems = 'center';
                    optionDiv.style.marginBottom = '5px';
                    
                    const input = document.createElement('input');
                    input.type = category.type;
                    input.name = `${category.key}-${index}`;
                    input.value = option.id;
                    input.id = `${category.key}-${option.id}-${index}`;
                    
                    const label = document.createElement('label');
                    label.htmlFor = `${category.key}-${option.id}-${index}`;
                    label.textContent = option.name;
                    label.style.marginLeft = '5px';
                    label.style.cursor = 'pointer';
                    
                    // Verificar se esta opção já está selecionada
                    if (category.type === 'radio') {
                        if (meal[category.key] && meal[category.key].id === option.id) {
                            input.checked = true;
                        }
                    } else if (category.type === 'checkbox') {
                        if (meal[category.key].some(item => item.id === option.id)) {
                            input.checked = true;
                        }
                    }
                    
                    // Adicionar evento de mudança
                    input.addEventListener('change', function() {
                        if (category.type === 'radio') {
                            meal[category.key] = option;
                        } else if (category.type === 'checkbox') {
                            if (this.checked) {
                                if (meal[category.key].length < 2) {
                                    meal[category.key].push(option);
                                } else {
                                    this.checked = false;
                                    alert('Você só pode selecionar 2 guarnições por marmita.');
                                }
                            } else {
                                const index = meal[category.key].findIndex(item => item.id === option.id);
                                if (index !== -1) {
                                    meal[category.key].splice(index, 1);
                                }
                            }
                        }
                    });
                    
                    optionDiv.appendChild(input);
                    optionDiv.appendChild(label);
                    categoryDiv.appendChild(optionDiv);
                });
                
                mealContainer.appendChild(categoryDiv);
            });
            
            return mealContainer;
        }

        // Remover uma marmita
        function removeMeal(index) {
            if (confirm('Tem certeza que deseja remover esta marmita?')) {
                const meal = currentOrder.meals[index];
                
                // Atualizar quantidade
                if (meal.size === 'P') {
                    currentOrder.quantityP--;
                    document.getElementById('quantity-p').value = currentOrder.quantityP;
                } else {
                    currentOrder.quantityG--;
                    document.getElementById('quantity-g').value = currentOrder.quantityG;
                }
                
                // Remover do array
                currentOrder.meals.splice(index, 1);
                
                // Recarregar interface
                loadMealsCustomization();
            }
        }

        // Validar se todas as marmitas estão completas
        function validateAllMeals() {
            for (const meal of currentOrder.meals) {
                if (!meal.rice || !meal.beans || meal.sideDishes.length !== 2 || !meal.meat) {
                    return false;
                }
            }
            return true;
        }

        // Navegar entre passos
        function goToStep(stepNumber) {
            // Atualizar indicador de passos
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
            
            for (let i = 1; i <= stepNumber; i++) {
                const step = document.querySelector(`.step[data-step="${i}"]`);
                if (i === stepNumber) {
                    step.classList.add('active');
                } else {
                    step.classList.add('completed');
                }
            }
            
            // Atualizar título da etapa atual
            updateCurrentStepTitle(stepNumber);
            
            // Mostrar conteúdo do passo atual
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.getElementById(`step-${stepNumber}`).classList.add('active');
        }

        // Atualizar título da etapa atual
        function updateCurrentStepTitle(stepNumber) {
            const titleElement = document.getElementById('current-step-title');
            let title = '';
            
            switch(stepNumber) {
                case 1:
                    title = 'Selecione a quantidade de marmitas';
                    break;
                case 2:
                    title = 'Personalize cada marmita';
                    break;
                case 3:
                    title = 'Confirme seu pedido';
                    break;
                case 4:
                    title = 'Finalizar Pedido';
                    break;
                default:
                    title = 'Monte Sua Marmita';
            }
            
            titleElement.textContent = title;
        }

        // Atualizar resumo do pedido
        function updateOrderSummary() {
            const orderItemsContainer = document.getElementById('order-items');
            orderItemsContainer.innerHTML = '';
            
            // Agrupar marmitas por tipo para exibição
            const mealsByType = {
                'P': { count: 0, price: 15.00 },
                'G': { count: 0, price: 20.00 }
            };
            
            currentOrder.meals.forEach(meal => {
                mealsByType[meal.size].count++;
            });
            
            // Adicionar marmitas ao resumo
            if (mealsByType['P'].count > 0) {
                addOrderItem(orderItemsContainer, `Marmita Pequena (P) x${mealsByType['P'].count}`, mealsByType['P'].price * mealsByType['P'].count);
            }
            
            if (mealsByType['G'].count > 0) {
                addOrderItem(orderItemsContainer, `Marmita Grande (G) x${mealsByType['G'].count}`, mealsByType['G'].price * mealsByType['G'].count);
            }
            
            // Adicionar detalhes de cada marmita
            currentOrder.meals.forEach((meal, index) => {
                addOrderItem(orderItemsContainer, `Marmita ${meal.size} #${index + 1}:`, 0);
                
                if (meal.rice) {
                    addOrderItem(orderItemsContainer, `  - ${meal.rice.name}`, 0);
                }
                
                if (meal.beans) {
                    addOrderItem(orderItemsContainer, `  - ${meal.beans.name}`, 0);
                }
                
                meal.sideDishes.forEach(sideDish => {
                    addOrderItem(orderItemsContainer, `  - ${sideDish.name}`, 0);
                });
                
                if (meal.meat) {
                    addOrderItem(orderItemsContainer, `  - ${meal.meat.name}`, 0);
                }
                
                // Espaçamento entre marmitas
                addOrderItem(orderItemsContainer, '', 0);
            });
            
            // Calcular e exibir total
            const total = calculateTotal();
            document.getElementById('total-price').textContent = `R$ ${total.toFixed(2)}`;
        }

        // Atualizar resumo do checkout
        function updateCheckoutSummary() {
            const orderItemsContainer = document.getElementById('checkout-order-items');
            orderItemsContainer.innerHTML = '';
            
            // Agrupar marmitas por tipo para exibição
            const mealsByType = {
                'P': { count: 0, price: 15.00 },
                'G': { count: 0, price: 20.00 }
            };
            
            currentOrder.meals.forEach(meal => {
                mealsByType[meal.size].count++;
            });
            
            // Adicionar marmitas ao resumo
            if (mealsByType['P'].count > 0) {
                addOrderItem(orderItemsContainer, `Marmita Pequena (P) x${mealsByType['P'].count}`, mealsByType['P'].price * mealsByType['P'].count);
            }
            
            if (mealsByType['G'].count > 0) {
                addOrderItem(orderItemsContainer, `Marmita Grande (G) x${mealsByType['G'].count}`, mealsByType['G'].price * mealsByType['G'].count);
            }
            
            // Adicionar detalhes de cada marmita
            currentOrder.meals.forEach((meal, index) => {
                addOrderItem(orderItemsContainer, `Marmita ${meal.size} #${index + 1}:`, 0);
                
                if (meal.rice) {
                    addOrderItem(orderItemsContainer, `  - ${meal.rice.name}`, 0);
                }
                
                if (meal.beans) {
                    addOrderItem(orderItemsContainer, `  - ${meal.beans.name}`, 0);
                }
                
                meal.sideDishes.forEach(sideDish => {
                    addOrderItem(orderItemsContainer, `  - ${sideDish.name}`, 0);
                });
                
                if (meal.meat) {
                    addOrderItem(orderItemsContainer, `  - ${meal.meat.name}`, 0);
                }
                
                // Espaçamento entre marmitas
                addOrderItem(orderItemsContainer, '', 0);
            });
            
            // Calcular e exibir total
            const total = calculateTotal();
            document.getElementById('checkout-total-price').textContent = `R$ ${total.toFixed(2)}`;
        }

        // Calcular total do pedido
        function calculateTotal() {
            let total = 0;
            
            currentOrder.meals.forEach(meal => {
                total += meal.price;
            });
            
            return total;
        }

        // Adicionar item ao resumo do pedido
        function addOrderItem(container, name, price) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'order-item';
            
            const nameSpan = document.createElement('span');
            nameSpan.textContent = name;
            
            const priceSpan = document.createElement('span');
            priceSpan.textContent = price > 0 ? `R$ ${price.toFixed(2)}` : '';
            
            itemDiv.appendChild(nameSpan);
            itemDiv.appendChild(priceSpan);
            container.appendChild(itemDiv);
        }

        // Resetar pedido
        function resetOrder() {
            currentOrder = {
                quantityP: 0,
                quantityG: 0,
                meals: [],
                customerInfo: {}
            };
            
            // Resetar controles de quantidade
            document.getElementById('quantity-p').value = 0;
            document.getElementById('quantity-g').value = 0;
            
            // Limpar formulário de checkout
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-phone').value = '';
            document.getElementById('delivery-address').value = '';
            document.getElementById('delivery-reference').value = '';
            document.getElementById('order-notes').value = '';
            document.getElementById('change-value').value = '';
            
            // Voltar para a primeira etapa
            goToStep(1);
        }

        // Painel Administrativo

        // Carregar opções no painel administrativo
        function loadAdminOptions() {
            const container = document.getElementById('admin-options-tables');
            container.innerHTML = '';
            
            // Para cada categoria
            for (const category in menuOptions) {
                const categoryDiv = document.createElement('div');
                categoryDiv.style.marginBottom = '20px';
                categoryDiv.style.padding = '15px';
                categoryDiv.style.border = '1px solid #ddd';
                categoryDiv.style.borderRadius = '6px';
                
                const title = document.createElement('h4');
                title.textContent = getCategoryName(category);
                title.style.marginBottom = '10px';
                categoryDiv.appendChild(title);
                
                const table = document.createElement('table');
                table.style.width = '100%';
                table.style.borderCollapse = 'collapse';
                
                // Cabeçalho da tabela
                const thead = document.createElement('thead');
                const headerRow = document.createElement('tr');
                
                const headers = ['ID', 'Nome', 'Status', 'Ações'];
                headers.forEach(headerText => {
                    const th = document.createElement('th');
                    th.textContent = headerText;
                    th.style.padding = '8px';
                    th.style.borderBottom = '1px solid #ddd';
                    th.style.textAlign = 'left';
                    headerRow.appendChild(th);
                });
                
                thead.appendChild(headerRow);
                table.appendChild(thead);
                
                // Corpo da tabela
                const tbody = document.createElement('tbody');
                
                menuOptions[category].forEach(option => {
                    const row = document.createElement('tr');
                    
                    // ID
                    const idCell = document.createElement('td');
                    idCell.textContent = option.id;
                    idCell.style.padding = '8px';
                    idCell.style.borderBottom = '1px solid #ddd';
                    row.appendChild(idCell);
                    
                    // Nome
                    const nameCell = document.createElement('td');
                    nameCell.textContent = option.name;
                    nameCell.style.padding = '8px';
                    nameCell.style.borderBottom = '1px solid #ddd';
                    row.appendChild(nameCell);
                    
                    // Status
                    const statusCell = document.createElement('td');
                    statusCell.style.padding = '8px';
                    statusCell.style.borderBottom = '1px solid #ddd';
                    const statusBadge = document.createElement('span');
                    statusBadge.style.padding = '4px 8px';
                    statusBadge.style.borderRadius = '4px';
                    statusBadge.style.fontSize = '12px';
                    statusBadge.style.fontWeight = 'bold';
                    statusBadge.className = option.active ? 'status-active' : 'status-inactive';
                    statusBadge.textContent = option.active ? 'Ativo' : 'Inativo';
                    statusCell.appendChild(statusBadge);
                    row.appendChild(statusCell);
                    
                    // Ações
                    const actionsCell = document.createElement('td');
                    actionsCell.style.padding = '8px';
                    actionsCell.style.borderBottom = '1px solid #ddd';
                    actionsCell.className = 'actions';
                    
                    const toggleBtn = document.createElement('button');
                    toggleBtn.className = `btn ${option.active ? 'btn-warning' : 'btn-primary'}`;
                    toggleBtn.style.marginRight = '5px';
                    toggleBtn.innerHTML = `<i class="fas fa-${option.active ? 'eye-slash' : 'eye'}"></i><span>${option.active ? 'Ocultar' : 'Exibir'}</span>`;
                    toggleBtn.addEventListener('click', function() {
                        toggleOptionStatus(category, option.id);
                    });
                    
                    const deleteBtn = document.createElement('button');
                    deleteBtn.className = 'btn btn-danger';
                    deleteBtn.innerHTML = '<i class="fas fa-trash"></i><span>Excluir</span>';
                    deleteBtn.addEventListener('click', function() {
                        deleteOption(category, option.id);
                    });
                    
                    actionsCell.appendChild(toggleBtn);
                    actionsCell.appendChild(deleteBtn);
                    row.appendChild(actionsCell);
                    
                    tbody.appendChild(row);
                });
                
                table.appendChild(tbody);
                categoryDiv.appendChild(table);
                container.appendChild(categoryDiv);
            }
        }

        // Obter nome amigável da categoria
        function getCategoryName(category) {
            const names = {
                'rice': 'Arroz',
                'beans': 'Feijão',
                'side-dishes': 'Guarnições',
                'meat': 'Carnes'
            };
            
            return names[category] || category;
        }

        // Adicionar nova opção
        function addNewOption() {
            const category = document.getElementById('category-select').value;
            const name = document.getElementById('option-name').value.trim();
            
            // Validação
            if (!name) {
                showAdminAlert('Por favor, insira um nome para a opção.', 'danger');
                return;
            }
            
            // Gerar ID único
            const maxId = menuOptions[category].length > 0 
                ? Math.max(...menuOptions[category].map(option => option.id)) 
                : 0;
            
            const newOption = {
                id: maxId + 1,
                name: name,
                active: true
            };
            
            // Adicionar à lista
            menuOptions[category].push(newOption);
            
            // Atualizar interface
            loadAdminOptions();
            
            // Limpar formulário
            document.getElementById('option-name').value = '';
            
            // Mostrar mensagem de sucesso
            showAdminAlert('Opção adicionada com sucesso!', 'success');
        }

        // Alternar status da opção (ativo/inativo)
        function toggleOptionStatus(category, optionId) {
            const option = menuOptions[category].find(opt => opt.id === optionId);
            if (option) {
                option.active = !option.active;
                
                // Atualizar interface
                loadAdminOptions();
                
                // Mostrar mensagem
                showAdminAlert(`Opção ${option.active ? 'ativada' : 'desativada'} com sucesso!`, 'success');
            }
        }

        // Excluir opção
        function deleteOption(category, optionId) {
            if (confirm('Tem certeza que deseja excluir esta opção?')) {
                menuOptions[category] = menuOptions[category].filter(opt => opt.id !== optionId);
                
                // Atualizar interface
                loadAdminOptions();
                
                // Mostrar mensagem
                showAdminAlert('Opção excluída com sucesso!', 'success');
            }
        }

        // Mostrar alerta no painel administrativo
        function showAdminAlert(message, type) {
            const alertDiv = document.getElementById('admin-alert');
            alertDiv.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                <span>${message}</span>
            `;
            alertDiv.style.display = 'flex';
            alertDiv.style.padding = '12px';
            alertDiv.style.borderRadius = '6px';
            alertDiv.style.marginBottom = '15px';
            alertDiv.style.backgroundColor = type === 'success' ? 'var(--primary-light)' : 'var(--danger-light)';
            alertDiv.style.color = type === 'success' ? 'var(--primary-dark)' : 'var(--danger-color)';
            alertDiv.style.borderLeft = `4px solid ${type === 'success' ? 'var(--primary-color)' : 'var(--danger-color)'}`;
            
            // Ocultar após 3 segundos
            setTimeout(() => {
                alertDiv.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>